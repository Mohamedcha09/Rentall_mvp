/******************  FINAL FIXES — OVERRIDES  ******************/

/* شبـكة العناصر — مقاس واحد ثابت */
.home-grid{
  display:grid !important;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)) !important; /* وسط بين 230 و 270 */
  gap: 16px !important;
}

/* البطاقة تملأ الارتفاع وتبقى مرتبة دائمًا */
.card.spot{
  display:flex !important;
  flex-direction:column !important;
  height:100% !important;
  border-radius:16px !important;
  overflow:hidden !important;
}

/* مساحة الصورة موحّدة: استخدم aspect-ratio كخيار افتراضي */
.spot-media{
  position:relative !important;
  aspect-ratio: 16 / 10 !important;     /* يمنع القفز بين ارتفاعات مختلفة */
  height: auto !important;               /* لو وُجد تعريف سابق للارتفاع ثبّته هنا */
  overflow:hidden !important;
  background: rgba(255,255,255,.04) !important;
  border-bottom: 1px solid var(--border) !important;
}
.spot-media > img{
  width:100% !important;
  height:100% !important;
  object-fit:cover !important;
  display:block !important;
  transition: transform .22s ease !important;
}
.card.spot:hover .spot-media > img{ transform: scale(1.02) !important; }

/* التراكب والشارات فوق الصورة فقط */
.spot-overlay{ position:absolute !important; inset:0 !important;
  background: linear-gradient(180deg, transparent 55%, rgba(15,17,21,.55)) !important; }

.price-badge,
.category-chip{ position:absolute !important; top:10px !important; z-index:2 !important; }
.price-badge{
  inset-inline-start:10px !important;
  padding:.3rem .55rem !important;
  font-size:.9rem !important;
  border-radius:999px !important;
  background: rgba(10,12,16,.65) !important;
  backdrop-filter: blur(8px) !important;
  border:1px solid var(--border) !important;
  color:#fff !important;
  box-shadow: 0 6px 18px rgba(0,0,0,.35) !important;
}
.category-chip{
  inset-inline-end:10px !important;
  padding:.2rem .5rem !important;
  font-size:.78rem !important;
  border-radius:999px !important;
  color:#cfe2ff !important;
  background: rgba(124,92,255,.18) !important;
  border:1px solid rgba(124,92,255,.35) !important;
}

/* جسم البطاقة مرن ومرتب */
.card.spot .card-body{ padding:.7rem .75rem .8rem !important; }
.spot-body{ flex:1 !important; display:flex !important; flex-direction:column !important; gap:10px !important; }

/* العنوان: سطران كحد أقصى، ولا يخرج من الإطار */
.spot-title{
  margin:2px 0 4px !important;
  display:-webkit-box !important;
  -webkit-box-orient: vertical !important;
  -webkit-line-clamp: 2 !important;
  overflow:hidden !important;
  min-height:2.8em !important;      /* يحافظ على نفس الارتفاع حتى لو سطر واحد */
  line-height:1.25 !important;
}

/* سطر المالك/المدينة مضغوط */
.owner-line{ min-height:28px !important; }
.owner-avatar, .owner-avatar--placeholder{ width:24px !important; height:24px !important; }
.card.spot .small, .card.spot .text-muted{ font-size:.8rem !important; line-height:1.2 !important; }

/* ذيل البطاقة دائمًا بأسفل */
.spot-footer{ margin-top:auto !important; }

/* المدينة كبادج لا تتجاوز السطر */
.city-chip{
  max-width:65% !important;
  white-space:nowrap !important;
  overflow:hidden !important;
  text-overflow:ellipsis !important;
}

/* النافبار والدروبدوان فوق أي محتوى */
.navbar{ z-index: 1100 !important; }
.navbar .dropdown-menu{ z-index: 1150 !important; }

/* لو في صفحات فيها صور كبيرة (لوحة الأدمين/التفاصيل) لا تسمح للكائنات تكسر التخطيط */
img, video, iframe{ max-width:100% !important; height:auto !important; }

/* استجابة */
@media (max-width: 480px){
  .home-grid{ grid-template-columns: repeat(auto-fill, minmax(180px,1fr)) !important; gap:12px !important; }
  .spot-title{ font-size:.95rem !important; }
}
@media (min-width: 1400px){
  .home-grid{ grid-template-columns: repeat(auto-fill, minmax(220px,1fr)) !important; gap:16px !important; }
}
