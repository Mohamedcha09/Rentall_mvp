/* =========================================================
   R E N T A L L  —  Ultra Glass UI (Light-only)
   يعمل مع base.html — الوضع الأبيض فقط
   ========================================================= */

/* ------------ ألوان ومتغيرات عامة (أبيض فقط) ------------ */
:root{
  --bg:#f5f7fb;
  --glass:#ffffffd6;
  --surface:#ffffff;
  --panel:#ffffff;
  --card:#ffffff;

  --text:#0d1320;
  --muted:#667086;

  --primary:#7c5cff;
  --primary-2:#5a3eff;
  --success:#22c55e;
  --warning:#f8b84e;
  --danger:#ff4d6d;

  --border:rgba(0,0,0,.10);
  --ring: rgba(124,92,255,.25);
  --shadow: 0 18px 46px rgba(0,0,0,.08);

  --sidebar-w: 268px;
  --radius:16px;

  --brand:#5900ff; /* إضافي للتاب بار */
}

/* ------------ الأساسيات ------------ */
html,body{min-height:100%}
html, body { height: 100%; } /* ملء الشاشة */
body{
  background:
    radial-gradient(1100px 800px at 80% -10%, rgba(124,92,255,.12), transparent 45%),
    radial-gradient(900px 600px at -10% 110%, rgba(0,229,168,.06), transparent 40%),
    var(--bg);
  color:var(--text);
  font-family:'Tajawal','Cairo',system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased;  -moz-osx-font-smoothing:grayscale;
}
a{ color:inherit; text-decoration:none }
a:hover{ text-decoration:none; filter:brightness(1.05) }
.text-muted{ color:var(--muted)!important }
small, .small{ color:var(--muted)!important }

/* ------------ أزرار عامة ------------ */
.btn{ border-radius:12px; transition:transform .12s ease, filter .12s ease }
.btn:active{ transform:scale(.98) }
.btn-ghost{ background:transparent; color:inherit; border:1px solid var(--border); }
.btn-ghost:hover{ background:color-mix(in oklab, var(--text) 8%, transparent) }
.btn-primary{
  background:linear-gradient(135deg,var(--primary),var(--primary-2));
  border:0; box-shadow:0 12px 28px rgba(124,92,255,.18);
}
.btn-primary:hover{ filter:brightness(1.05) }
.btn-sm{ padding:.35rem .7rem; border-radius:12px }

/* ------------ أسطح (بطاقات/حقول/قوائم) ------------ */
.card, .alert, .list-group-item, .dropdown-menu,
.form-control, .form-select{
  background:linear-gradient(180deg, color-mix(in oklab, var(--card) 98%, transparent),
                                    color-mix(in oklab, var(--card) 96%, transparent));
  border:1px solid var(--border); color:var(--text); border-radius:var(--radius);
}
.card{ box-shadow:var(--shadow); transition:border-color .16s ease, box-shadow .16s ease, transform .16s ease }
.card:hover{ border-color:color-mix(in oklab, var(--primary) 28%, var(--border)); box-shadow:0 20px 44px rgba(124,92,255,.12); transform: translateY(-2px) }

.form-control, .form-select{ height:auto }
.form-control:focus, .form-select:focus{
  box-shadow:0 0 0 4px var(--ring); border-color:color-mix(in oklab, var(--primary) 55%, var(--border));
}

.dropdown-menu{ box-shadow:0 18px 40px rgba(0,0,0,.10) }
.dropdown-item{ color:inherit }
.dropdown-item:hover{ background:color-mix(in oklab, var(--text) 6%, transparent) }

.alert{ border-radius:14px }
.alert-warning{ color:inherit }

/* ------------ شريط علوي زجاجي ------------ */
.topbar{
  position:fixed; inset:0 0 auto 0; height:64px;
  background: linear-gradient(180deg, var(--glass), color-mix(in oklab, var(--glass) 75%, transparent));
  backdrop-filter: blur(14px) saturate(120%);
  border-bottom:1px solid var(--border);
  z-index:2000;
}
.topbar__inner{ display:grid; grid-template-columns:auto auto 1fr auto; gap:10px; align-items:center; padding:8px 14px }
.brand__name{ font-weight:800; letter-spacing:.3px }

/* ------------ البحث ------------ */
.search{ position:relative; margin-inline:8px; max-width:760px; width:100% }
.search__icon{ position:absolute; inset-inline-start:12px; top:50%; transform:translateY(-50%); opacity:.7; pointer-events:none }
.search__input{
  padding-inline:38px 14px; height:40px; border-radius:999px;
  background: #f4f6fb;
  border:1px solid var(--border); color:#3b4152;
  transition: box-shadow .15s ease, border-color .15s ease, background .2s ease;
}
.search__input::placeholder{ color:#8b95a7 }
.search__input:focus{ outline:none; box-shadow:0 0 0 4px var(--ring); border-color:color-mix(in oklab, var(--primary) 50%, var(--border)) }

/* ------------ أفاتار ووسام التوثيق ------------ */
.avatar{
  width:26px; height:26px; border-radius:50%;
  display:grid; place-items:center; font-weight:800;
  background:color-mix(in oklab, var(--panel) 98%, white);
  color:color-mix(in oklab, var(--text) 92%, black);
  box-shadow:inset 0 0 0 1px var(--border);
}
.avatar.ring{ position:relative }
.avatar.ring::after{
  content:""; position:absolute; inset:-2px; border-radius:50%;
  background: conic-gradient(from 120deg, var(--primary), var(--primary-2), var(--primary));
  -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 2px), #000 0);
          mask: radial-gradient(farthest-side, transparent calc(100% - 2px), #000 0);
  filter:saturate(130%) blur(.2px);
}
.verify{ color:#1aa7ff; filter: drop-shadow(0 0 6px rgba(85,213,255,.35)) }

/* ------------ إشعارات ------------ */
.notif-ping{
  position:absolute; inset-inline-start:2px; top:2px; width:10px; height:10px; border-radius:50%;
  background:#ff6b6b; border:1px solid color-mix(in oklab, var(--bg) 92%, black);
  box-shadow:0 0 0 0 rgba(255,107,107,.35);
  animation:ping 1.6s cubic-bezier(0,0,.2,1) infinite;
}
@keyframes ping{0%{box-shadow:0 0 0 0 rgba(255,107,107,.35)}70%{box-shadow:0 0 0 10px rgba(255,107,107,0)}100%{box-shadow:0 0 0 0 rgba(255,107,107,0)}}
.notif-count{
  position:absolute; inset-inline-start:-6px; bottom:-6px; font-size:.68rem; padding:.05rem .35rem; border-radius:999px;
  background:#ff6b6b; color:#fff; border:1px solid color-mix(in oklab, var(--bg) 90%, black)
}

/* ------------ المساحة الرئيسية ------------ */
.page{
  padding: calc(64px + 18px) 20px 28px;
  margin-inline: 0;
  max-width: 1280px;
  transition: margin-inline-start .22s ease;
}
@media (max-width: 991.98px){ .page{ margin-inline:0; padding: calc(64px + 12px) 12px 20px } }

/* ==== Full-screen on desktop ==== */
@media (min-width: 992px){ .page{ max-width: none; } }

/* تقليل الحافة الداخلية */
.page{ padding-inline: 12px 20px; }
@media (max-width: 991.98px){ .page{ margin-inline: 0; } }

/* ======== ملء الشاشة — بدون حذف ======== */
#page-wrapper{
  min-height: 100dvh;
  min-height: 100svh;
  display: flex;
  flex-direction: column;
}
.main-flex-fill{ flex: 1 1 auto; }

/* ------------ شبكة العناصر ------------ */
.home-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap:16px;
}
.card.spot{
  display:flex; flex-direction:column; height:100%;
  border-radius:18px; overflow:hidden;
}
.spot-media{
  position:relative;
  aspect-ratio: 16 / 10;
  overflow:hidden;
  background: rgba(0,0,0,.02);
  border-bottom:1px solid var(--border);
}
.spot-media > img{
  width:100%; height:100%; object-fit:cover; display:block;
  transition: transform .22s ease;
}
.card.spot:hover .spot-media > img{ transform:scale(1.02) }
.spot-overlay{
  position:absolute; inset:0;
  background: linear-gradient(180deg, transparent 55%, rgba(0,0,0,.10));
  pointer-events:none;
}
.price-badge, .category-chip{
  position:absolute; top:10px; z-index:2; border-radius:999px;
}
.price-badge{
  inset-inline-start:10px; padding:.3rem .55rem; font-weight:700; font-size:.9rem;
  background: rgba(0,0,0,.55); backdrop-filter: blur(8px);
  border:1px solid var(--border); color:#fff; box-shadow:0 6px 18px rgba(0,0,0,.12);
}
.category-chip{
  inset-inline-end:10px; padding:.2rem .5rem; font-size:.78rem; color:#5a3eff;
  background: rgba(124,92,255,.10); border:1px solid rgba(124,92,255,.25);
}
.card.spot .card-body{ padding:.7rem .75rem .8rem }
.spot-body{ display:flex; flex-direction:column; gap:10px; }
.spot-title{
  margin:2px 0 4px;
  display:-webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow:hidden;
  min-height:2.8em;
  line-height:1.25;
}
.owner-line{ display:flex; align-items:center; gap:.5rem; min-height:28px }
.owner-avatar, .owner-avatar--placeholder{
  width:24px; height:24px; border-radius:50%;
  object-fit:cover; border:1px solid var(--border);
  display:grid; place-items:center; background:rgba(0,0,0,.03);
}
.city-chip{
  padding:.2rem .5rem; border-radius:999px;
  background: rgba(0,0,0,.03); border:1px solid var(--border);
  color:var(--muted);
  max-width:65%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.spot-footer{ margin-top:auto; display:flex; align-items:center; justify-content:space-between }
@media (max-width: 480px){
  .home-grid{ grid-template-columns: repeat(auto-fill, minmax(180px,1fr)); gap:12px }
  .spot-title{ font-size:.95rem }
}

/* ===== سلايدر أفقي للبطاقات ===== */
.hrow{
  display:grid;
  grid-auto-flow: column;
  grid-auto-columns: 78%;
  gap:12px;
  overflow-x:auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding-inline: 4px;
}
@media (min-width:576px){ .hrow{ grid-auto-columns: 58%; } }
@media (min-width:992px){ .hrow{ grid-auto-columns: 360px; } }
.hcard{ scroll-snap-align: start; }
.hcard .spot-media{ aspect-ratio: 16/11; }

.section-head{
  display:flex; align-items:center; justify-content:space-between;
  margin: 8px 4px 10px;
}
.section-title{ font-weight:800; font-size:1.05rem }
.arrow-btn{
  border:1px solid var(--border); background:transparent; border-radius:10px;
  width:36px; height:36px; display:grid; place-items:center;
}
.arrow-btn:disabled{ opacity:.4 }

.mixed-grid{
  display:grid; gap:12px;
  grid-template-columns: repeat(auto-fill, minmax(180px,1fr));
}
@media (min-width:576px){ .mixed-grid{ grid-template-columns: repeat(auto-fill, minmax(220px,1fr)); } }

/* ===== أيقونات أعلى (تحسين) ===== */
.actions .btn-icon{ border:0!important; background:transparent!important; padding:.15rem .35rem!important; box-shadow:none!important; }
.actions .btn-icon i{ font-size:1.35rem; line-height:1; filter:none; }
.actions .btn-ghost.btn-icon{ border-color: transparent!important; }
.actions .msg-icon i{ color:#6a57ff; }
.actions .notif-icon i{ color:#18c2a1; }
.actions .btn-icon:hover{ transform: translateY(-1px); }

/* ===== Search pill (تحسين مظهر البحث في التوب بار) ===== */
.topbar .search .search__input{
  height: 44px !important;
  border-radius: 999px !important;
  border: 0 !important;
  background: #f4f6fb !important;
  color: #444 !important;
}
.topbar .search .search__icon{ inset-inline-start: 16px !important; opacity: .6 !important; font-size: 1.05rem; }
.topbar .search .search__input::placeholder{ font-size: 1.05rem; letter-spacing: .2px; color: #8b95a7; }

/* ===== زرّ المفضلة فوق الصورة ===== */
.spot-media{ position:relative; overflow:hidden; border-radius:16px 16px 0 0 }
.spot-media img{ width:100%; height:220px; object-fit:cover; display:block }
.fav-btn{
  position:absolute; right:10px; top:56px;
  width:40px; height:40px; border:none; outline:none; cursor:pointer;
  border-radius:999px; background:rgba(255,255,255,0.92);
  display:flex; align-items:center; justify-content:center;
  box-shadow: 0 4px 14px rgba(0,0,0,.08);
}
.fav-btn .bi{ font-size:18px; color:#a944ec; line-height:1 }
.fav-btn.is-fav{ background:#a944ec; }
.fav-btn.is-fav .bi{ color:#fff }

/* ===== قائمة ثلاث خطوط علوية ===== */
.topmenu{
  position: fixed;
  top: 58px;
  inset-inline-end: 12px;
  min-width: 260px; max-width: 88vw;
  padding: 8px; border-radius: 14px; border: 1px solid var(--border);
  background: linear-gradient(180deg, color-mix(in oklab, var(--surface) 100%, transparent),
                                       color-mix(in oklab, var(--panel) 98%, transparent));
  box-shadow: 0 18px 40px rgba(0,0,0,.10);
  backdrop-filter: blur(14px) saturate(120%);
  z-index: 3001; display: none; transform-origin: top right;
  transform: translateY(-6px) scale(.98); opacity: 0;
  transition: opacity .18s ease, transform .18s ease;
}
.topmenu.is-open{ display:block; opacity:1; transform: translateY(0) scale(1); }
.topmenu::before{
  content:""; position:absolute; inset-inline-end: 20px; top:-8px; width:14px; height:14px; transform: rotate(45deg);
  background: inherit; border-inline-start: 1px solid var(--border); border-top: 1px solid var(--border);
  filter: blur(.2px);
}
.topmenu-item{
  display:flex; align-items:center; gap:.6rem;
  padding:.6rem .7rem; border-radius:10px; color:inherit; text-decoration:none;
  transition: background .15s ease, transform .12s ease;
}
.topmenu-item i{ font-size:1.12rem; opacity:.9; transition: transform .15s ease, opacity .15s ease; }
.topmenu-item:hover{ background: color-mix(in oklab, var(--text) 6%, transparent); transform: translateY(-1px); }
.topmenu-item:hover i{ transform: translateY(-1px); opacity:1; }
.topmenu-sep{ height:1px; margin:.35rem .25rem; border:0; background:var(--border); }
.hamburger-btn{ width:38px; height:38px; display:grid; place-items:center; border-radius:10px; font-size:1.1rem; line-height:1; border:0; background:transparent; cursor:pointer; }
.hamburger-btn:hover{ background: color-mix(in oklab, var(--text) 6%, transparent); }

/****************************************************
 *  Mobile-only Addons (Airbnb-like)
 ****************************************************/
.m-top-tabs{
  position: sticky; top: 56px; z-index: 2000;
  display: grid; grid-auto-flow: column; gap: 8px; padding: 8px 12px;
  background: linear-gradient(180deg, rgba(0,0,0,.00), rgba(0,0,0,.04));
  backdrop-filter: blur(12px) saturate(120%);
  border-bottom: 1px solid var(--border);
}
.m-top-tabs .m-tab{
  display: inline-flex; align-items: center; justify-content: center;
  height: 36px; padding: 0 12px; font-weight: 700; font-size: .92rem; border-radius: 999px;
  color: var(--muted); text-decoration: none; border: 1px solid transparent;
  background: color-mix(in oklab, var(--panel) 98%, transparent);
  transition: background .15s ease, color .15s ease, transform .12s ease, border-color .15s ease;
}
.m-top-tabs .m-tab:hover{ transform: translateY(-1px); }
.m-top-tabs .m-tab.is-active{
  color: var(--text);
  background: linear-gradient(180deg, color-mix(in oklab, var(--surface) 98%, transparent),
                                       color-mix(in oklab, var(--panel) 96%, transparent));
  border-color: color-mix(in oklab, var(--primary) 35%, var(--border));
  box-shadow: 0 10px 28px rgba(0,0,0,.08);
}

/* ===== Bottom mobile tabbar (5 tabs) ===== */
.mobile-tabbar{
  position: fixed !important; inset-inline: 0; bottom: 0; height: 64px;
  background: linear-gradient(180deg,
              color-mix(in oklab, var(--surface) 98%, transparent),
              color-mix(in oklab, var(--panel) 96%, transparent));
  border-top: 1px solid var(--border);
  backdrop-filter: blur(14px) saturate(120%);
  z-index: 2300; display: block;
}
.mobile-tabbar .tabbar-inner{ height: 100%; display: grid; grid-template-columns: repeat(5, 1fr); }
.mobile-tabbar a{
  display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 4px;
  height: 100%; font-size: .8rem; font-weight: 600; color: var(--muted); text-decoration: none;
  transition: color .15s ease, transform .12s ease, opacity .15s ease;
}
.mobile-tabbar .tab-img{ width: 22px; height: 22px; object-fit: contain; opacity: .55; transition: opacity .15s ease, transform .12s ease; }
.mobile-tabbar a.is-active{ color: var(--text); }
.mobile-tabbar a.is-active .tab-img{ opacity: 1; transform: translateY(-1px) scale(1.06); }
.mobile-tabbar a.is-active::after{
  content:""; display:block; width: 26px; height: 3px; border-radius: 3px; margin-top: 3px; background: var(--primary);
}

/* ===== Mobile topbar compact ===== */
@media (max-width: 768px){
  .topbar{ height: 56px; border-bottom: 1px solid var(--border); }
  .topbar__inner{ grid-template-columns: 1fr; gap: 8px; padding: 8px 12px; }
  .brand, .sidebar, .collapse-pin{ display: none !important; }
  .search{ margin: 0; }
  .search .search__input{
    height: 44px !important; border-radius: 999px !important; padding-inline: 44px 44px !important;
    background: #ffffff !important; color: #222 !important; box-shadow: 0 8px 24px rgba(0,0,0,.08); text-align: center;
  }
  .search .search__input:focus{ text-align: start; }
  .search .search__icon{ inset-inline-start: 14px !important; top: 50%; transform: translateY(-50%); opacity: .55 !important; font-size: 1.15rem !important; }

  .page{
    margin-inline: 0 !important;
    padding: calc(56px + 10px) 12px 110px !important;
    padding-bottom: calc(90px + env(safe-area-inset-bottom)) !important;
  }
}

/* ===== Cards / media polish on mobile ===== */
@media (max-width: 768px){
  .home-grid{ grid-template-columns: repeat(auto-fill, minmax(170px,1fr)); gap: 12px; }
  .card.spot{ border-radius: 16px; overflow: hidden; }
  .spot-media{ aspect-ratio: 16/10; border-bottom: 1px solid var(--border); }
  .card.spot .card-body{ padding: .6rem .6rem .7rem; }
  .spot-title{
    margin: .1rem 0 .4rem; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2;
    overflow: hidden; min-height: 2.6em;
  }
  .city-chip{
    max-width: 65%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    padding: .15rem .45rem; border-radius: 999px; background: rgba(0,0,0,.03); border: 1px solid var(--border);
  }
}

/* ===== Floating Action Button spacing over tabbar ===== */
@media (max-width: 768px){ .fab{ bottom: calc(74px + env(safe-area-inset-bottom, 0px)); } }

/* ===== Small helpers ===== */
.m-hide-desktop{ display: none; }
@media (max-width: 992px){
  .m-hide-desktop{ display: initial; }
  .d-lg-none .m-hide-desktop{ display: initial; }
}

/* ---- Fix: bottom bar = 5 cols ---- */
@media (max-width: 768px){
  .mobile-tabbar{
    display: grid !important;
    grid-template-columns: repeat(5, minmax(0, 1fr)) !important;
    align-items: center; gap: 0; padding: 0 !important; height: 64px !important;
  }
  .mobile-tabbar > a{
    display: flex !important; flex-direction: column; align-items: center; justify-content: center;
    gap: 4px; min-width: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    font-size: .78rem; line-height: 1.1;
  }
  .mobile-tabbar .tab-img{ width: 22px; height: 22px; flex-shrink: 0; }
  .mobile-tabbar > a.is-active::after{
    content:""; display:block; width:26px; height:3px; border-radius:3px; background: var(--primary); margin-top:3px;
  }
}

/* === إخفاء زر ☰ وإصلاح شريط الموبايل === */
@media (max-width: 768px){
  #menuBtn{ display:none !important; }
  .topbar .actions{ display:none !important; }
  .brand{ display:none !important; }
  .topbar__inner{ grid-template-columns: 1fr !important; padding: 8px 12px !important; }
  .topbar{ height: 56px !important; border: none !important; }
}

/* ========================= */
/*     إضافات عصرية         */
/* ========================= */

.mobile-tabbar a { font-weight: 600; }
.mobile-tabbar a i { opacity: .6; transition: opacity .15s ease, transform .15s ease; }
.mobile-tabbar a.is-active { color: var(--brand) !important; }
.mobile-tabbar a.is-active i { opacity: 1; transform: translateY(-1px); }
.mobile-tabbar a.is-active::after{
  content:""; display:block; width:28px; height:3px; border-radius:3px; background: var(--brand); margin-top:4px;
}
.mobile-tabbar a .tab-icon--active{ display:none; }
.mobile-tabbar a.is-active .tab-icon{ display:none; }
.mobile-tabbar a.is-active .tab-icon--active{ display:block; }

/* ---------------------------------------------------------
   Hero Carousel (صور فقط) + Amazon-like blend على الديسكتوب
   --------------------------------------------------------- */
.hero-carousel{ position:relative; border-radius:16px; overflow:hidden; box-shadow: var(--shadow); }
.hero-carousel .carousel-item{ max-height:520px; overflow:hidden; }
.hero-carousel .carousel-item img{ width:100%; height:520px; object-fit:cover; object-position:center; display:block; }

/* إلغاء المؤشرات والكابشن (صور فقط) */
.hero-carousel .carousel-indicators{ display:none !important; }
.hero-carousel .carousel-caption{ display:none !important; }

/* تكييف ارتفاع الصور على الشاشات الأصغر */
@media (max-width:992px){ .hero-carousel .carousel-item img{ height:380px; } }
@media (max-width:576px){ .hero-carousel .carousel-item img{ height:300px; } }

/* ===== Desktop-only: edge-to-edge + blend + رفع الرفوف ===== */
@media (min-width: 992px){
  /* اجعل البانر يمتد لحواف الشاشة */
  .edge-bleed{ margin-inline: calc(50% - 50vw); width:100vw; }

  /* تلاشي من الصورة إلى الأبيض ليلتحم مع الصفحة */
  .hero-carousel::after{
    content:""; position:absolute; left:0; right:0; bottom:0; height:160px;
    background: linear-gradient(180deg, rgba(255,255,255,0) 0%, #ffffff 85%);
    pointer-events:none;
  }

  /* ✨ رفع رفوف المنتجات ليظهر الدمج الطبيعي */
  .home-shelves{
    position: relative; z-index: 1;
    background:#fff; border-radius:18px 18px 0 0; box-shadow:0 8px 26px rgba(0,0,0,.06);
    margin-top:-80px; /* تعديل مهم */
    padding:16px 18px 20px;
  }

  .home-shelves.container-xl{ max-width:1320px; }
}

/* ===== تحسينات التمرير/السكرول ===== */
*{ scrollbar-width:thin; scrollbar-color: color-mix(in oklab, var(--text) 22%, transparent) transparent }
*::-webkit-scrollbar{ height:10px; width:10px }
*::-webkit-scrollbar-thumb{ background:color-mix(in oklab, var(--text) 22%, transparent); border-radius:20px }
*::-webkit-scrollbar-track{ background:transparent }
.topbar{ z-index:2000 }
.dropdown-menu{ z-index:2200 }

/* ------------ لوح الإشعارات ------------ */
.notif-panel{
  position:fixed; top:64px; bottom:0; inset-inline-end:-380px; width:360px;
  background:linear-gradient(180deg, var(--surface), var(--panel));
  border-inline-start:1px solid var(--border);
  box-shadow: -18px 0 46px rgba(0,0,0,.08);
  transition: inset-inline-end .25s ease;
  z-index:2100; display:flex; flex-direction:column;
}
.notif-panel.is-open{ inset-inline-end:0 }
.notif-panel__header{ padding:12px 14px; border-bottom:1px solid var(--border) }
.notif-panel__body{ padding:14px; overflow:auto }

.scrim{
  position:fixed; inset:0; background:#0007; opacity:0; pointer-events:none;
  transition:opacity .2s ease; z-index:2005;
}
.scrim.is-show{ opacity:1; pointer-events:auto }

/* ------------ إضافات متنوعة ------------ */
.stripe-callout{ border:1px dashed color-mix(in oklab, var(--primary) 35%, var(--border)) }
.fab{
  position:fixed; inset-inline-end:16px; bottom:16px; width:54px; height:54px; border-radius:50%;
  display:grid; place-items:center; color:#fff; text-decoration:none;
  background:linear-gradient(135deg,var(--primary),var(--primary-2));
  box-shadow:0 16px 40px rgba(124,92,255,.25), 0 0 0 0 rgba(124,92,255,.25);
  animation:fabpop .24s ease-out; z-index:2200
}
@keyframes fabpop{0%{transform:scale(.8); opacity:0}100%{transform:scale(1); opacity:1}}
.fab:active{ transform:scale(.96) }


/* ======= HERO FIX: show full image, rounded, smaller on desktop ======= */

/* ألغِ الارتفاعات الثابتة كلها */
.hero-carousel,
.hero-carousel .carousel-item { height: auto !important; }

/* نسبة أبعاد ثابتة 16:9 لكل الشرائح */
.hero-carousel .carousel-item{
  aspect-ratio: 16 / 9;
  overflow: hidden;
}

/* الصورة تَظهَر كاملة بدون قص */
.hero-carousel .carousel-item img{
  width: 100%;
  height: 100%;
  object-fit: contain !important;   /* كانت cover تقصّ الصورة */
  background: #f4f6fb;              /* لون خلفية خلف الصورة لو فيها فراغات */
  border-radius: 18px;              /* حافة دائرية للصورة نفسها أيضًا */
  display: block;
}

/* شكل أنيق موحّد للهاتف والكمبيوتر */
.hero-carousel{
  border-radius: 18px !important;
  overflow: hidden;
  box-shadow: 0 14px 34px rgba(0,0,0,.08);
}

/* اجعل السلايدر أصغر قليلًا ومركزيًا في الديسكتوب (بدون تمديد للحواف) */
@media (min-width: 992px){
  /* ألغِ edge-bleed على الديسكتوب ليكون مثل الهاتف */
  .edge-bleed{ margin-inline: auto !important; width: auto !important; }

  /* عرض مريح */
  .hero-carousel{ max-width: 1180px; margin-inline: auto; }
}

/* أسهم ومؤشرات أكبر قليلًا ولمس أسهل */
.hero-carousel .carousel-control-prev,
.hero-carousel .carousel-control-next{ width: 8%; }
.hero-carousel .carousel-indicators [data-bs-target]{ width: 10px; height: 10px; border-radius: 50%; }

/* ألغِ أي تلاشي/طبقات قد تغيّم أسفل الصورة وتسبب “قصّ بصري” */
.hero-carousel::before,
.hero-carousel::after{ display: none !important; }

/* ===== HERO: أظهر الصورة كاملة بدون قص + نفس الستايل على الهاتف والكمبيوتر ===== */

/* إلغاء أي ارتفاعات/طبقات قديمة */
.hero-carousel,
.hero-carousel .carousel-item{
  height: auto !important;
  border-radius: 18px !important;
  overflow: hidden !important;
  box-shadow: 0 14px 34px rgba(0,0,0,.08) !important;
  position: relative;
}

/* نسبة أبعاد ثابتة لكل سلايد (يشبه الهاتف) */
.hero-carousel .carousel-item{
  aspect-ratio: 16 / 9 !important;        /* يمكنك تغييرها 21/9 أو 4/3 حسب صورك */
}

/* الصورة تظهر كاملة (بدون قص) */
.hero-carousel .carousel-item img{
  width: 100% !important;
  height: 100% !important;
  object-fit: contain !important;          /* contain = لا قص إطلاقًا */
  object-position: center !important;
  display: block !important;
  background: #f4f6fb !important;          /* لون خفيف خلف الفراغات إن وجدت */
  border-radius: 18px !important;
}

/* ألغِ أي طبقات/تلاشي قديم كان يسبب قص بصري تحت الصورة */
.hero-carousel::before,
.hero-carousel::after{
  content: none !important;
  display: none !important;
}

/* كبّر منطقة النقر للأسهم */
.hero-carousel .carousel-control-prev,
.hero-carousel .carousel-control-next{
  width: 8% !important;
}

/* حواف دائرية على السلايدر نفسه في كل المقاسات */
.edge-bleed .hero-carousel{
  border-radius: 18px !important;
  box-shadow: 0 14px 34px rgba(0,0,0,.08) !important;
}

/* على الكمبيوتر: لا تمد للعرض الكامل للحافة—خليه أنيق وأصغر قليلاً */
@media (min-width: 992px){
  .edge-bleed{               /* عطّل تمديد الحواف */
    margin-inline: auto !important;
    width: auto !important;
  }
  .hero-carousel{
    max-width: 1180px !important;          /* أصغر شوي من كامل الصفحة */
    margin-inline: auto !important;
  }
}

/* لو عندك “رفوف” تحت البانر تعتمد على تلاشي البانر القديم، خلّها طبيعية الآن */
.home-shelves{
  margin-top: 16px !important;             /* لا ترفعها فوق البانر لأننا ألغينا التلاشي */
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 8px 26px rgba(0,0,0,.06);
}

/* حواف دائرية متناسقة للأسهم حتى شكلها يكون مثل الهاتف */
.hero-carousel .carousel-control-prev-icon,
.hero-carousel .carousel-control-next-icon{
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.25));
}

/* المؤشرات */
.hero-carousel .carousel-indicators [data-bs-target]{
  width: 10px !important;
  height: 10px !important;
  border-radius: 50% !important;
}