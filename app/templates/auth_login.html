{% extends "base.html" %}

{% block head %}
<style>
  /* اخفاء كل عناصر الملاحة في صفحة الدخول فقط */
  .topbar,
  .sidebar,
  .mobile-tabbar,
  .fab { display: none !important; }

  /* نلغي أي هوامش/حشوات من الـ page ونخليها ملء الشاشة */
  .page{
    margin: 0 !important;
    padding: 0 !important;
    max-width: none !important;
    min-height: 100dvh;
    min-height: 100svh;
    display: grid;
    grid-template-columns: min(420px, 92vw) 1fr; /* عمود النموذج + بطل يمين */
  }

  /* عمود النموذج (يسار) */
  .auth-panel{
    display:flex; align-items:center; justify-content:center;
    padding: 24px;
    background: linear-gradient(180deg, color-mix(in oklab, var(--panel) 96%, transparent),
                                        color-mix(in oklab, var(--surface) 94%, transparent));
    border-inline-end: 1px solid var(--border);
  }
  .auth-card{
    width: 100%;
    max-width: 360px;
    border-radius: 18px;
    padding: 18px;
    background: linear-gradient(180deg, color-mix(in oklab, var(--card) 92%, transparent),
                                        color-mix(in oklab, var(--card) 86%, transparent));
    border:1px solid var(--border);
    box-shadow: var(--shadow);
  }
  .brand-mini{
    display:flex; align-items:center; gap:10px; margin-bottom:8px;
  }
  .brand-mini img{ height:28px }
  .muted{ color: var(--muted); font-size:.9rem }

  /* العمود البصري (يمين) */
  .hero{
    position:relative; overflow:hidden;
    display:flex; align-items:center; justify-content:center;
    padding: clamp(24px, 6vw, 80px);
  }
  .hero-inner{
    max-width: 760px; text-align:center;
  }
  .hero-badge{
    display:inline-flex; align-items:center; gap:8px;
    padding:.35rem .7rem; border-radius:999px; font-weight:700; font-size:.9rem;
    background: rgba(124,92,255,.14);
    border:1px solid rgba(124,92,255,.35);
    margin-bottom: 14px;
  }
  .hero h1{
    font-weight: 800; letter-spacing:.2px; margin:10px 0 8px;
  }
  .hero p{
    color:var(--muted); font-size:1.05rem; margin:0 auto; max-width: 60ch;
  }

  /* زينة خلفية */
  .hero::before{
    content:""; position:absolute; inset:auto -20% -20% -20%;
    height: 70%;
    background:
      radial-gradient(800px 360px at 80% 0%, rgba(124,92,255,.22), transparent 55%),
      radial-gradient(700px 420px at 20% 90%, rgba(0,229,168,.10), transparent 50%);
    filter: blur(6px);
  }

  /* Responsive: على الشاشات الصغيرة نخليها عمود واحد */
  @media (max-width: 992px){
    .page{ grid-template-columns: 1fr; }
    .auth-panel{ order: 2; border-inline-end: 0; border-top:1px solid var(--border); }
    .hero{ order: 1; min-height: 44vh; }
  }
</style>
{% endblock %}

{% block content %}
<div class="auth-panel">
  <div class="auth-card">
    <div class="brand-mini">
      <img src="{{ url_for('static', path='images/base.png') }}" alt="SEVOR">
      <strong>SEVOR</strong>
    </div>

    <form method="post" action="/login" novalidate>
      <div class="mb-3">
        <label class="form-label">البريد الإلكتروني</label>
        <input type="email" class="form-control" name="email" required placeholder="example@email.com">
      </div>

      <div class="mb-2">
        <label class="form-label d-flex justify-content-between align-items-center">
          <span>كلمة المرور</span>
          <a href="/reset" class="small text-muted">هل نسيت؟</a>
        </label>
        <div class="input-group">
          <input id="pw" type="password" class="form-control" name="password" required placeholder="••••••••">
          <button class="btn btn-ghost" type="button" onclick="togglePw()" aria-label="إظهار/إخفاء">
            <i class="bi bi-eye"></i>
          </button>
        </div>
        <div class="form-text muted">يتم تشفير كلمات المرور، ونستعمل التحقق بخطوتين لمنع إساءة الاستخدام.</div>
      </div>

      <button type="submit" class="btn btn-primary w-100 mt-3">دخول</button>

      <a href="/register" class="btn btn-success w-100 mt-2">إنشاء حساب جديد</a>

      <div class="small text-center mt-3 muted">كل الحقوق محفوظة — SEVOR ©</div>
    </form>
  </div>
</div>

<div class="hero">
  <div class="hero-inner">
    <div class="hero-badge">منصة الحجز الذكية • SEVOR</div>
    <h1>ابقَ على تواصل مع الأشياء التي تحتاجها في حياتك اليومية.</h1>
    <p>
      استأجر ما تريد بسهولة وأمان؛ إدارة محادثات، مدفوعات، وإشعارات — كلها في مكان واحد.
    </p>
  </div>
</div>

<script>
  function togglePw(){
    const pw = document.getElementById('pw');
    pw.type = (pw.type === 'password') ? 'text' : 'password';
  }
</script>
{% endblock %}