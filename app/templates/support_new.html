{% extends "base.html" %}
{% block content %}

<!-- ===== زر الرجوع العائم (iOS style) ===== -->
<a href="/support/my" class="back-btn-ios">
  <i class="bi bi-chevron-left"></i>
</a>

<!-- ===== الشريط الثابت (Sticky Header) ===== -->
<div id="supportSticky" class="support-sticky-bar">
    <a href="/support/my" class="support-sticky-back"><i class="bi bi-chevron-left"></i></a>
    <div class="support-sticky-title">Contact Support</div>
    <div style="width:24px"></div>
</div>

<style>
/* =====================================================
   زر الرجوع — iOS floating button style
===================================================== */
.back-btn-ios {
    position: fixed;
    top: calc(env(safe-area-inset-top) + 12px);
    left: 14px;
    z-index: 9999;
    background: #F7F4FF;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    width: 42px;
    height: 42px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #333;
    font-size: 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    text-decoration: none;
}
.back-btn-ios:active { transform: scale(0.94); }

/* =====================================================
   إخفاء navbars + stripe + searchbars
===================================================== */
header.topbar,
.m-top-tabs,
nav.desk-tabs,
.mobile-tabbar,
.stripe-callout,
.searchbar,
.payout-banner,
.connect-banner,
.stripe-connect-banner {
    display: none !important;
}

body.has-tabbar { padding-bottom:0 !important; }

/* =====================================================
   الشريط الثابت (Airbnb style)
===================================================== */
.support-sticky-bar {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 58px;
    padding: calc(env(safe-area-inset-top) + 6px) 14px 8px 14px;
    background: #F7F4FF;
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    display: flex;
    align-items: center;
    justify-content: space-between;
    opacity: 0;
    transform: translateY(-70px);
    transition: all .35s ease;
    z-index: 99999;
}

.support-sticky-bar.show {
    opacity: 1;
    transform: translateY(0);
}

.support-sticky-title {
    font-size: 18px;
    font-weight: 600;
    color: #111;
}

.support-sticky-back {
    font-size: 22px;
    color: #333;
}

/* =====================================================
   عنوان الصفحة العادي
===================================================== */
h3 {
    font-size: 28px;
    font-weight: 600;
    margin-bottom: 20px;
}
</style>

<!-- =====================================================
      Contact Support Content
===================================================== -->

<div class="container py-4" style="max-width:760px">

  <h3>Contact Support</h3>

  <form method="post" class="mt-3">
    <div class="mb-3">
      <label class="form-label">Subject</label>
      <input name="subject" class="form-control" placeholder="Enter subject">
    </div>

    <div class="mb-3">
      <label class="form-label">Message</label>
      <textarea name="body" class="form-control" rows="6" placeholder="Describe your issue..."></textarea>
    </div>

    <button class="btn btn-primary">Send</button>
    <a class="btn btn-light" href="/support/my">My Tickets</a>
  </form>

</div>

<!-- =====================================================
     سكربت الشريط الثابت — يظهر عند النزول
===================================================== -->
<script>
document.addEventListener("scroll", function () {
    const bar = document.getElementById("supportSticky");

    if (window.scrollY > 100) {
        bar.classList.add("show");
    } else {
        bar.classList.remove("show");
    }
});
</script>

{% endblock %}
