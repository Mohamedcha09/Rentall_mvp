{# app/templates/_badges.html #}
{%- macro render_badges(subject, size='18px') -%}
  {%- if not subject -%}{%- endmacro -%}{%- endif -%}

  {%- macro _img(src, title) -%}
    <img src="{{ url_for('static', path='img/' ~ src) }}"
         alt="{{ title }}" title="{{ title }}"
         style="height:{{ size }};width:auto;vertical-align:middle;margin-inline-start:6px;">
  {%- endmacro -%}

  {# verified كـ SVG مدمج (عشان ما نعتمد على verified.png) #}
  {%- if subject.is_verified -%}
    <svg aria-label="موثّق"
         style="height:{{ size }};width:{{ size }};vertical-align:middle;margin-inline-start:6px;">
      <circle cx="10" cy="10" r="10" fill="#2ea7ff"/>
      <path d="M5 10l3 3 7-7" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  {%- endif -%}

  {# نفس الصور التي تريدها #}
  {%- if subject.badge_admin %}{{ _img('adm.png', 'admin') }}{%- endif -%}
  {%- if subject.badge_new_yellow %}{{ _img('jaune.png', 'جديد') }}{%- endif -%}
  {%- if subject.badge_pro_green %}{{ _img('ProVert.png', 'Pro أخضر') }}{%- endif -%}
  {%- if subject.badge_pro_gold %}{{ _img('ProGold.png', 'Pro ذهبي') }}{%- endif -%}
  {%- if subject.badge_purple_trust %}{{ _img('violet.png', 'ثقة') }}{%- endif -%}
  {%- if subject.badge_renter_green %}{{ _img('Vert.png', 'مستأجر موثوق') }}{%- endif -%}
  {%- if subject.badge_orange_stars %}{{ _img('orange.png', 'Top Rated') }}{%- endif -%}
{%- endmacro -%}
